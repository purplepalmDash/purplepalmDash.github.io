<!doctype html><html xmlns=http://www.w3.org/1999/xhtml xml:lang=en lang=en-us><head><link href=http://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>WorkingTipsOnMultiSeat &#183; Dash</title><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/poole-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-overrides.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/hyde-a.css?ref=abc124"><link rel=stylesheet href="https://purplepalmdash.github.io/css/custom-additions.css?ref=abc124"><link rel=stylesheet href=https://purplepalmdash.github.io/css/highlight/googlecode.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/docco.min.css><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.10.2/jquery.min.js></script><script type=text/javascript src=/js/html2canvas.js></script><script type=text/javascript>function genPostShot(){var rightNow=new Date();var imageName=rightNow.toISOString().slice(0,16).replace(/(-)|(:)|(T)/g,"");imageName+='.jpg'
html2canvas(document.getElementsByClassName('post'),{background:'#FFFFFF',onrendered:function(canvas){$('#test').attr('href',canvas.toDataURL("image/jpeg"));$('#test').attr('download',imageName);$('#test')[0].click();}});};</script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js></script><script>hljs.initHighlightingOnLoad();</script><link rel=apple-touch-icon-precomposed sizes=144x144 href="http://purplepalmdash.github.io/touch-icon-144-precomposed.png?ref=abc124"><link href="http://purplepalmdash.github.io/favicon.png?ref=abc124" rel=icon><meta name=description content="WorkingTipsOnMultiSeat"><meta name=keywords content="Technology"></head><body class=theme-base-0c><div class=sidebar><div class="container sidebar-sticky"><div class=sidebar-about><img src=http://purplepalmdash.github.io/images/mylogo.jpeg alt=gravatar><h1><a href=http://purplepalmdash.github.io/>Get busy living, or get busy dying.</a></h1><a href=http://purplepalmdash.github.io/><p>Dash</p></a></div><ul class=sidebar-nav><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/post/>All Posts</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/technology/>Technology</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/life/>Life</a></li><li class=sidebar-nav-item><a href=http://purplepalmdash.github.io/categories/linuxtips/>LinuxTips</a></li></ul><ul class=sidebar-nav><li class=sidebar-nav-item><a href=https://github.com/purplepalmdash><i class="fa fa-github-square fa-3x"></i></a><a href=https://cn.linkedin.com/in/yang-feipeng-1b909319><i class="fa fa-linkedin-square fa-3x"></i></a><a href=https://plus.google.com/u/0/106572959364703833986><i class="fa fa-google-plus-square fa-3x"></i></a><a href=https://www.facebook.com/yang.feipeng><i class="fa fa-facebook-square fa-3x"></i></a><a href=https://twitter.com/dashwillfly><i class="fa fa-twitter-square fa-3x"></i></a></li></ul></div></div><div class="content container"><div class=post><h1>WorkingTipsOnMultiSeat</h1><p align=right><a href=javascript:genPostShot()>TurnToJPG --> <i class="fa fa-camera-retro fa-2x"></i></a><a id=test></a></p><hr><span class=post-date>Jul 6, 2021<br><a class=a_cat href=http://purplepalmdash.github.io/categories/technology>Technology</a></span><div id=_toc class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#steps>steps</a></li></ul></li></ul></nav></div><h3 id=steps>steps</h3><p>default seat:</p><pre><code># loginctl seat-status seat0&gt;seat0.txt
# cat seat0.txt
seat0
	Sessions: *1
	 Devices:
		  ├─/sys/devices/LNXSYSTM:00/LNXPWRBN:00/input/input1
		  │ input:input1 &quot;Power Button&quot;
		  ├─/sys/devices/LNXSYSTM:00/LNXSYBUS:00/PNP0A08:00/LNXVIDEO:00/input/input14
		  │ input:input14 &quot;Video Bus&quot;
		  ├─/sys/devices/LNXSYSTM:00/LNXSYBUS:00/PNP0C0C:00/input/input0
		  │ input:input0 &quot;Power Button&quot;
		  ├─/sys/devices/pci0000:00/0000:00:02.0/drm/card0
		  │ [MASTER] drm:card0
		  │ ├─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-DP-1
		  │ │ [MASTER] drm:card0-DP-1
		  │ ├─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-HDMI-A-1
		  │ │ [MASTER] drm:card0-HDMI-A-1
		  │ ├─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-HDMI-A-2
		  │ │ [MASTER] drm:card0-HDMI-A-2
		  │ └─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1
		  │   [MASTER] drm:card0-eDP-1
		  │   └─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1/intel_backlight
		  │     backlight:intel_backlight
		  ├─/sys/devices/pci0000:00/0000:00:02.0/graphics/fb0
		  │ graphics:fb0 &quot;i915drmfb&quot;
		  ├─/sys/devices/pci0000:00/0000:00:03.0/sound/card1
		  │ sound:card1 &quot;HDMI&quot;
		  │ ├─/sys/devices/pci0000:00/0000:00:03.0/sound/card1/input16
		  │ │ input:input16 &quot;HDA Intel HDMI HDMI/DP,pcm=3&quot;
		  │ ├─/sys/devices/pci0000:00/0000:00:03.0/sound/card1/input17
		  │ │ input:input17 &quot;HDA Intel HDMI HDMI/DP,pcm=7&quot;
		  │ ├─/sys/devices/pci0000:00/0000:00:03.0/sound/card1/input18
		  │ │ input:input18 &quot;HDA Intel HDMI HDMI/DP,pcm=8&quot;
		  │ ├─/sys/devices/pci0000:00/0000:00:03.0/sound/card1/input19
		  │ │ input:input19 &quot;HDA Intel HDMI HDMI/DP,pcm=9&quot;
		  │ └─/sys/devices/pci0000:00/0000:00:03.0/sound/card1/input20
		  │   input:input20 &quot;HDA Intel HDMI HDMI/DP,pcm=10&quot;
		  ├─/sys/devices/pci0000:00/0000:00:14.0/usb2
		  │ usb:usb2
		  │ └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3
		  │   usb:2-3
		  │   └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15
		  │     input:input15 &quot;Logitech K400 Plus&quot;
		  │     ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15/input15::capslock
		  │     │ leds:input15::capslock
		  │     ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15/input15::compose
		  │     │ leds:input15::compose
		  │     ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15/input15::kana
		  │     │ leds:input15::kana
		  │     ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15/input15::numlock
		  │     │ leds:input15::numlock
		  │     └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3/2-3:1.2/0003:046D:C52B.0003/0003:046D:404D.0004/input/input15/input15::scrolllock
		  │       leds:input15::scrolllock
		  ├─/sys/devices/pci0000:00/0000:00:14.0/usb3
		  │ usb:usb3
		  ├─/sys/devices/pci0000:00/0000:00:1b.0/sound/card0
		  │ sound:card0 &quot;PCH&quot;
		  │ └─/sys/devices/pci0000:00/0000:00:1b.0/sound/card0/input8
		  │   input:input8 &quot;HDA Intel PCH Headphone&quot;
		  ├─/sys/devices/pci0000:00/0000:00:1d.0/usb1
		  │ usb:usb1
		  │ └─/sys/devices/pci0000:00/0000:00:1d.0/usb1/1-1
		  │   usb:1-1
		  └─/sys/devices/platform/pcspkr/input/input7
		    input:input7 &quot;PC Speaker&quot;
</code></pre><p>找寻对应的口：</p><pre><code>/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1
/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3

/sys/devices/pci0000:00/0000:00:14.0/usb2/2-3

/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-HDMI-A-1

</code></pre><p>Attach:</p><pre><code># loginctl attach seat1  /sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1
# loginctl attach seat1  /sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3
➜  ~ loginctl seat-status seat1
seat1
	 Devices:
		  ├─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1
		  │ [MASTER] drm:card0-eDP-1
		  │ └─/sys/devices/pci0000:00/0000:00:02.0/drm/card0/card0-eDP-1/intel_backlight
		  │   backlight:intel_backlight
		  └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3
		    usb:2-2.3
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10
		    │ input:input10 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard&quot;
		    │ ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10/input10::capslock
		    │ │ leds:input10::capslock
		    │ ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10/input10::compose
		    │ │ leds:input10::compose
		    │ ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10/input10::kana
		    │ │ leds:input10::kana
		    │ ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10/input10::numlock
		    │ │ leds:input10::numlock
		    │ └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.0/0003:1A81:2019.0005/input/input10/input10::scrolllock
		    │   leds:input10::scrolllock
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.1/0003:1A81:2019.0006/input/input11
		    │ input:input11 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard Mouse&quot;
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.1/0003:1A81:2019.0006/input/input12
		    │ input:input12 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard&quot;
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.1/0003:1A81:2019.0006/input/input13
		    │ input:input13 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard Consumer Control&quot;
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.1/0003:1A81:2019.0006/input/input14
		    │ input:input14 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard System Control&quot;
		    ├─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.2/0003:1A81:2019.0007/input/input16
		    │ input:input16 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard&quot;
		    └─/sys/devices/pci0000:00/0000:00:14.0/usb2/2-2/2-2.3/2-2.3:1.3/0003:1A81:2019.0008/input/input17
		      input:input17 &quot;G-Tech Fuhlen SM680 Mechanical Keyboard&quot;
</code></pre><p>Verify:</p><pre><code>➜  ~ ls -l  /etc/udev/rules.d/
total 12
-rw-r--r-- 1 root root  76 Jul  6 06:22 72-seat-drm-pci-0000_00_02_0.rules
-rw-r--r-- 1 root root  86 Jul  6 06:23 72-seat-usb-pci-0000_00_14_0-usb-0_2_3.rules
-rw-r--r-- 1 root root 432 Aug 10  2020 99-kvmd.rules.pacsave

</code></pre><p>Disable lxdm and testing:</p><pre><code># systemctl disable lxdm
Removed /etc/systemd/system/display-manager.service.
# reboot
</code></pre></div></div><script src=http://purplepalmdash.github.io/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>